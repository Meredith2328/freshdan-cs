# 计算机系统基础(上)

> 随着慢慢深入计算机世界，有一个问题的重要性越来越高：已经知其然时，如何知其所以然？
>
> 在生命世界，对这个问题的回答是”分层“。从细胞到个体、再到生物圈，
>
> 某一层的宏观现象是由相对更加微观的一层的现象所支撑的。
>
> 计算机本身也是这样一个“**分层**”的例子。
>
> 在程序设计中，我们只用考虑当前一层：即如何实现C语言程序的逻辑，但它的下一层是被“屏蔽”掉了的。
>
> 实际上，C程序从代码转成可执行文件要靠编译器，程序显示在屏幕上靠着显示器和操作系统的作用，等等。
>
> 在我们写更多的程序时，很有可能需要“**往下走**”，即“去下面一层看看”，
>
> 有时是为了写更正确、更有效率的程序，有时是下面一层的表现和我们对它的期望不一样、需要排查一下。
>
> 这门课正是一门“往下走”的课程。通过到处看看、到处玩玩，学会往下走，达到对计算机稍稍更进一步的“知其所以然”。

****

难度：★★★★★ 丨 重要程度：★★★★☆ 丨 自学比例：★★★★★ （仅供参考）

## 简介

本课程讲解课本为CSAPP，深入浅出地讲解了计算机这一人造“系统”的来龙去脉。lab作业有一定难度。如果要尝试自学了解，非常建议做lab。不做这门课程的lab很难学明白这门课程。

CSAPP是一本著名的计算机专业书籍，中文翻译名叫《深入理解计算机系统》，机械工业出版社出版。

该课程的部分知识会在后续多门课程用到。

> 本门课程提到的“计算机系统”并不是指 Windows、Linux 等操作系统。

## 关于 datalab, bomblab, attacklab, shelllab 和 cachelab

试着聊一聊我的理解，有不严谨和错漏之处还望多多指正。

ics所做的事情是，针对某个重要问题，引出一整套解决方案，并且在这个过程中帮你熟悉一些常用的思想和方法，从而在其他课程中直接拿来用。软工这边应该是做了datalab, bomblab, attacklab, cachelab和shelllab。

- **datalab** 一章围绕一个问题：怎么在计算机中存储数据？引出的思想是：“信息就是位+上下文”。

即通过二进制位存储一切，只是根据我们的需要、将它们重新解释，以达到存储整数、正整数、小数等数据。为了实现这些东西形成了如今的计算机体系结构，并引出各种“历史遗留问题”。

datalab的目标就很明确了：是一个为了让你习惯于“从二进制位的层面思考整数和浮点数”的人造lab。

- **bomblab** 更进一步，告诉我们“不仅数据可以用二进制位存储，连指令也可以”，即“汇编”。从这里开始，“打开了C语言的黑盒”，知道了所有编程语言内部都是对各种数据的一系列简单操作。

（在后续的dcd会认识到这些简单操作的更加内部的组成是各种逻辑门）

这也是计算机组成原理的一个重要想法：为了让程序工作符合我们需求，包括结果正确、更有效率或是更便宜，我们有时不得不打破当前一层的“黑盒”、去看更内部发生了什么。

bomblab的目标就是熟悉汇编这一“底层工具”，从而可以在继续向底层探索时有一套成熟的工具可供参考，向顶层构建时也有一层地基牢牢支撑。

（下面写不动了，简略一点，以后有缘再更）

- **attacklab** 从汇编出发、围绕 `gets` 函数不安全，是尝试“当一次黑客”的旅程。

- **cachelab** 讲解“抓关键”：更大的存储空间和更快的存取是互相矛盾的，所以想到把最关键的部分用更快的存储器来存取（即缓存），由此形成一整套快慢分层结构，实现了“存储空间足够大”和“存取足够快”的“我全都要”。

- **shelllab** 是一个并行的实现例子：很多很多时候比一个程序吭哧吭哧跑更符合需求的是好多个程序一起吭哧吭哧跑，为了这个目的引出一系列的实现问题。但怎样通过并行加快运行效率还得看计组。

## 部分老师侧重点参考

**李弋老师**：上课讲解内容是课本介绍的子集，以知识而非考试内容为主。如果有听上课讲解的需求，建议先自行阅读课本相关部分内容。正课不点名，lab课是否点名根据当学期情况。考试题型由老师和助教共同把关。软件工程专业使用的lab基本与CMU官方保持一致，互联网上有大量相关经验与知识可供参考。

> 24级为一学期5个lab，25级起改为两学期课程，可能增加内容。

## 对应的知名公开课

[CMU 15-213](https://csdiy.wiki/计算机系统基础/CSAPP/)

## 在这门课学不到什么？

- 流水线与CPU设计，请前往计算机组成与体系结构。
- 虚拟内存、页表，请前往操作系统。
- 计算机网络，请前往计算机网络。